{"ast":null,"code":"import React from'react';import DeathButton from'./components/DeathButton';import EventManager from'../../EventManager';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class Death extends React.Component{constructor(props){super(props);this.state={show:false,deathChoosen:false,timeout:0};}componentDidMount(){EventManager.addHandler('death',value=>{if(value.type==='show'){this.setState({show:true});}else if(value.type==='hide'){this.setState({show:false});}else if(value.type==='updateItems'){try{this.setState({show:true});this.setState({name:value.name});}catch(e){}}});}getTimeLeft(){var sec_num=parseInt(this.state.timeout,10);var hours=Math.floor(sec_num/3600);var minutes=Math.floor(sec_num/60)%60;var seconds=sec_num%60;return[hours,minutes,seconds].map(v=>v<10?'0'+v:v).filter((v,i)=>v!=='00'||i>0).join(':');}componentWillUnmount(){EventManager.removeHandler('death');}render(){if(!this.state.show){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"death\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"background-blackout-auth\"}),/*#__PURE__*/_jsx(\"div\",{className:\"death__container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"death__content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"death__content__title\",children:\"\\u0412\\u044B \\u043F\\u043E\\u0435\\u0442\\u0440\\u044F\\u043B\\u0438 \\u0441\\u043E\\u0437\\u043D\\u0430\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"death__content__timeout\",children:[\"\\u0414\\u043E \\u0441\\u043C\\u0435\\u0440\\u0442\\u0438 \\u043E\\u0441\\u0442\\u0430\\u043B\\u043E\\u0441\\u044C\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"death__content__timeout__left\",children:this.getTimeLeft(this)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"death__content__buttons\",children:/*#__PURE__*/_jsx(DeathButton,{text:\"\\u0423\\u043C\\u0435\\u0440\\u0435\\u0442\\u044C\",type:\"death\",disable:this.state.deathChoosen})})]})})]});}}export default Death;","map":{"version":3,"names":["React","DeathButton","EventManager","jsx","_jsx","jsxs","_jsxs","Death","Component","constructor","props","state","show","deathChoosen","timeout","componentDidMount","addHandler","value","type","setState","name","e","getTimeLeft","sec_num","parseInt","hours","Math","floor","minutes","seconds","map","v","filter","i","join","componentWillUnmount","removeHandler","render","className","children","text","disable"],"sources":["C:/Users/kwert887/Desktop/horizon-rp/ui/src/components/death/Death.jsx"],"sourcesContent":["import React from 'react';\r\nimport DeathButton from './components/DeathButton';\r\nimport EventManager from '../../EventManager';\r\n\r\nclass Death extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tshow: false,\r\n\t\t\tdeathChoosen: false,\r\n\t\t\ttimeout: 0,\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tEventManager.addHandler('death', (value) => {\r\n\t\t\tif (value.type === 'show') {\r\n\t\t\t\tthis.setState({show: true})\r\n\t\t\t} else if (value.type === 'hide') {\r\n\t\t\t\tthis.setState({show: false})\r\n\t\t\t} else if (value.type === 'updateItems') {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.setState({show: true})\r\n\t\t\t\t\tthis.setState({name: value.name})\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetTimeLeft() {\r\n\t\tvar sec_num = parseInt(this.state.timeout, 10)\r\n\t\tvar hours = Math.floor(sec_num / 3600)\r\n\t\tvar minutes = Math.floor(sec_num / 60) % 60\r\n\t\tvar seconds = sec_num % 60\r\n\r\n\t\treturn [hours, minutes, seconds]\r\n\t\t\t.map((v) => (v < 10 ? '0' + v : v))\r\n\t\t\t.filter((v, i) => v !== '00' || i > 0)\r\n\t\t\t.join(':')\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tEventManager.removeHandler('death')\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (!this.state.show) {\r\n\t\t\treturn null\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className='death'>\r\n\t\t\t\t<div className='background-blackout-auth' />\r\n\t\t\t\t<div className='death__container'>\r\n\t\t\t\t\t<div className='death__content'>\r\n\t\t\t\t\t\t<span className='death__content__title'>Вы поетряли сознания</span>\r\n\t\t\t\t\t\t<div className='death__content__timeout'>\r\n\t\t\t\t\t\t\tДо смерти осталось{' '}\r\n\t\t\t\t\t\t\t<span className='death__content__timeout__left'>{this.getTimeLeft(this)}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='death__content__buttons'>\r\n\t\t\t\t\t\t\t<DeathButton\r\n\t\t\t\t\t\t\t\ttext='Умереть'\r\n\t\t\t\t\t\t\t\ttype='death'\r\n\t\t\t\t\t\t\t\tdisable={this.state.deathChoosen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Death;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,YAAY,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,KAAK,QAAS,CAAAP,KAAK,CAACQ,SAAU,CACnCC,WAAWA,CAACC,KAAK,CAAE,CAClB,KAAK,CAACA,KAAK,CAAC,CACZ,IAAI,CAACC,KAAK,CAAG,CACZC,IAAI,CAAE,KAAK,CACXC,YAAY,CAAE,KAAK,CACnBC,OAAO,CAAE,CACV,CAAC,CACF,CAEAC,iBAAiBA,CAAA,CAAG,CACnBb,YAAY,CAACc,UAAU,CAAC,OAAO,CAAGC,KAAK,EAAK,CAC3C,GAAIA,KAAK,CAACC,IAAI,GAAK,MAAM,CAAE,CAC1B,IAAI,CAACC,QAAQ,CAAC,CAACP,IAAI,CAAE,IAAI,CAAC,CAAC,CAC5B,CAAC,IAAM,IAAIK,KAAK,CAACC,IAAI,GAAK,MAAM,CAAE,CACjC,IAAI,CAACC,QAAQ,CAAC,CAACP,IAAI,CAAE,KAAK,CAAC,CAAC,CAC7B,CAAC,IAAM,IAAIK,KAAK,CAACC,IAAI,GAAK,aAAa,CAAE,CACxC,GAAI,CACH,IAAI,CAACC,QAAQ,CAAC,CAACP,IAAI,CAAE,IAAI,CAAC,CAAC,CAC3B,IAAI,CAACO,QAAQ,CAAC,CAACC,IAAI,CAAEH,KAAK,CAACG,IAAI,CAAC,CAAC,CAClC,CAAE,MAAOC,CAAC,CAAE,CAAC,CACd,CACD,CAAC,CAAC,CACH,CAEAC,WAAWA,CAAA,CAAG,CACb,GAAI,CAAAC,OAAO,CAAGC,QAAQ,CAAC,IAAI,CAACb,KAAK,CAACG,OAAO,CAAE,EAAE,CAAC,CAC9C,GAAI,CAAAW,KAAK,CAAGC,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAG,IAAI,CAAC,CACtC,GAAI,CAAAK,OAAO,CAAGF,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAG,EAAE,CAAC,CAAG,EAAE,CAC3C,GAAI,CAAAM,OAAO,CAAGN,OAAO,CAAG,EAAE,CAE1B,MAAO,CAACE,KAAK,CAAEG,OAAO,CAAEC,OAAO,CAAC,CAC9BC,GAAG,CAAEC,CAAC,EAAMA,CAAC,CAAG,EAAE,CAAG,GAAG,CAAGA,CAAC,CAAGA,CAAE,CAAC,CAClCC,MAAM,CAAC,CAACD,CAAC,CAAEE,CAAC,GAAKF,CAAC,GAAK,IAAI,EAAIE,CAAC,CAAG,CAAC,CAAC,CACrCC,IAAI,CAAC,GAAG,CAAC,CACZ,CAEAC,oBAAoBA,CAAA,CAAG,CACtBjC,YAAY,CAACkC,aAAa,CAAC,OAAO,CAAC,CACpC,CAEAC,MAAMA,CAAA,CAAG,CACR,GAAI,CAAC,IAAI,CAAC1B,KAAK,CAACC,IAAI,CAAE,CACrB,MAAO,KAAI,CACZ,CACA,mBACCN,KAAA,QAAKgC,SAAS,CAAC,OAAO,CAAAC,QAAA,eACrBnC,IAAA,QAAKkC,SAAS,CAAC,0BAA0B,CAAE,CAAC,cAC5ClC,IAAA,QAAKkC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAChCjC,KAAA,QAAKgC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC9BnC,IAAA,SAAMkC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,gHAAoB,CAAM,CAAC,cACnEjC,KAAA,QAAKgC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EAAC,oGACtB,CAAC,GAAG,cACtBnC,IAAA,SAAMkC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAE,IAAI,CAACjB,WAAW,CAAC,IAAI,CAAC,CAAO,CAAC,EAC3E,CAAC,cACNlB,IAAA,QAAKkC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACvCnC,IAAA,CAACH,WAAW,EACXuC,IAAI,CAAC,4CAAS,CACdtB,IAAI,CAAC,OAAO,CACZuB,OAAO,CAAE,IAAI,CAAC9B,KAAK,CAACE,YAAa,CACjC,CAAC,CACE,CAAC,EACF,CAAC,CACF,CAAC,EACF,CAAC,CAER,CACD,CAEA,cAAe,CAAAN,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}